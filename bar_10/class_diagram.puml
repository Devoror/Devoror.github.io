@startuml
skinparam classAttributeIconSize 0

package "Domínio Clínico" {
    class Paciente {
        + id: UUID
        + nome: String
        + cpf: String
        + dataNascimento: Date
        + telefone: String
        + endereco: String
        + status: String
        + createdAt: DateTime
        + updatedAt: DateTime
        --
        + cadastrar()
        + atualizar()
        + consultarHistorico()
    }

    class Sessao {
        + id: UUID
        + dataHora: DateTime
        + tipo: String
        + observacoes: Text
        + assinadaPorProfessor: Boolean
        --
        + registrarEvolucao(evolucao: Evolucao)
        + assinar(professor: Usuario)
    }

    class Agendamento {
        + id: UUID
        + dataHoraInicio: DateTime
        + dataHoraFim: DateTime
        + status: String
        --
        + propor()
        + confirmar()
        + cancelar()
    }

    class Evolucao {
        + id: UUID
        + dataHora: DateTime
        + texto: Text
        --
        + registrar()
    }

    class Documento {
        + id: UUID
        + tipo: String
        + urlArmazenamento: String
        + hash: String
        + dataUpload: DateTime
        --
        + upload()
    }
}

package "Domínio Usuário" {
    class Usuario {
        + id: UUID
        + nome: String
        + email: String
        - senhaHash: String
        + ativo: Boolean
        --
        + autenticar(senha: String): Boolean
        + gerirPerfis(perfil: Perfil)
    }

    class Perfil {
        + id: UUID
        + nome: String
        --
        + getPermissoes(): List<Permissao>
    }

    class Permissao {
        + id: UUID
        + codigo: String
        + descricao: String
    }

    class Turma {
        + id: UUID
        + nome: String
        + periodo: String
    }
}

' Relacionamentos
Paciente "1" -- "0..*" Sessao : tem
Paciente "1" -- "0..*" Agendamento : agendado_para
Paciente "1" -- "0..*" Documento : possui

Sessao "1" -- "0..*" Evolucao : contem

Usuario "1" -- "0..*" Agendamento : realiza

Usuario "1" -- "0..*" Sessao : aluno_responsavel
Usuario "1" -- "0..*" Sessao : professor_supervisor

Usuario "1" -- "1..*" Perfil : tem

Perfil "1" -- "0..*" Permissao : concede

Usuario "1" -- "0..*" Turma : pertence

@enduml
